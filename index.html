<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>–ü–æ–¥–±–æ—Ä –ø—Ä–æ–≥—Ä–∞–º–º—ã ‚Äî –®–ê–ì–ê–ô –î–û–ú–ê</title>
<style>
:root{
  --ink:#1f262a; --paper:#fffaf2; --card:#fffefb; --line:#e8e0d0;
  --accent:#b22222; --accent-2:#0ea5e9; --muted:#6b7280;
  --ok:#16a34a; --warn:#f59e0b;
  --rad:16px; --shadow:0 18px 40px rgba(0,0,0,.08);
  --navPad:180px;
}
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0; color:var(--ink); font-family:system-ui,-apple-system,Segoe UI,Roboto,"Noto Sans",Arial,sans-serif;
  background:radial-gradient(1200px 600px at top left,#fff6dc 0%,#fff8ec 35%,#fff 60%) fixed;
}
.page{max-width:920px;margin:22px auto;padding:18px}
.header{display:flex;align-items:flex-start;justify-content:space-between;gap:12px;margin-bottom:12px}
h1{margin:0;font-size:28px;line-height:1.15;color:var(--accent)}
.progress{display:flex;gap:6px;align-items:center}
.dot{width:10px;height:10px;border-radius:50%;background:#e5e7eb;transition:.2s}
.dot.on{background:var(--accent)}
.card{
  background:linear-gradient(#fffefb,#fffaf2); border:1px solid var(--line); border-radius:var(--rad);
  box-shadow:var(--shadow); padding:16px;
}
#stage{position:relative;min-height:440px}
.slide{position:absolute;inset:0;opacity:0;transform:translateY(10px);transition:.35s}
.slide.active{opacity:1;transform:none}
.slide.out{opacity:0;transform:translateY(-10px)}

.q{font-size:22px;line-height:1.25;margin:6px 0 14px}
.answers{
  max-height:72vh; overflow:auto; padding:0 8px calc(var(--navPad) + env(safe-area-inset-bottom)) 8px;
  scroll-padding-bottom:calc(var(--navPad) + 24px);
}
.grid{display:grid;gap:10px;grid-template-columns:repeat(auto-fit,minmax(240px,1fr))}
.answer{
  padding:12px 14px; border:2px dashed #1f4a7f; border-radius:12px; background:#fff9ec;
  cursor:pointer; box-shadow:0 2px 0 rgba(0,0,0,.06); text-align:left;
}
.answer:hover{background:#fff3d6}
.answer.sel{background:#fff7ea; border:3px solid var(--accent); box-shadow:0 6px 16px rgba(178,34,34,.22)}

.nav{
  position:sticky; bottom:0; z-index:3; display:flex; justify-content:space-between; align-items:center;
  gap:10px; padding:10px 6px calc(10px + env(safe-area-inset-bottom));
  background:linear-gradient(180deg,transparent,#fffaf2 45%); border-bottom-left-radius:var(--rad); border-bottom-right-radius:var(--rad);
}
#prev,#next{
  border:0; border-radius:11px; padding:12px 18px; font-weight:700; box-shadow:0 10px 24px rgba(0,0,0,.08); cursor:pointer;
}
#prev{background:#e5e7eb;color:#111827}
#next{background:var(--accent);color:#fff}
#next:disabled{opacity:.6;box-shadow:none;cursor:not-allowed}

.small{color:var(--muted);font-size:13px}

.result{display:none;text-align:center}
.badge{width:200px;height:200px;margin:8px auto 12px}
.plan-name{color:var(--accent);margin:6px 0 6px}
.plan-desc{max-width:680px;margin:0 auto 14px;line-height:1.55}
.perks{max-width:720px;margin:10px auto 12px;text-align:left}
.cta{display:inline-block;margin-top:8px;padding:12px 22px;background:var(--accent);color:#fff;border-radius:24px;text-decoration:none;font-weight:800}
.alt{display:block;margin-top:8px;text-decoration:underline;color:#111827}

/* —Å—Ç–∞—Ä—Ç-–æ–±–ª–æ–∂–∫–∞ */
.intro{position:absolute;inset:0;display:flex;align-items:center;justify-content:center;border:0;background:transparent;cursor:pointer;z-index:4}
.intro img{max-width:100%;max-height:100%;border-radius:14px;box-shadow:0 12px 30px rgba(0,0,0,.18);pointer-events:none}
.intro.hide{opacity:0;pointer-events:none;transition:.25s}

/* –∞–¥–∞–ø—Ç–∏–≤ */
@media (max-width:420px){
  h1{font-size:24px}
  .q{font-size:20px}
  #prev,#next{padding:10px 16px}
}
</style>
</head>
<body class="prestart">
  <div class="page">
    <div class="header">
      <h1>–ü–æ–¥–±–æ—Ä –ø—Ä–æ–≥—Ä–∞–º–º—ã ‚Äî –®–ê–ì–ê–ô –î–û–ú–ê</h1>
      <div id="dots" class="progress"></div>
    </div>

    <section class="card" id="quiz" aria-live="polite">
      <!-- –æ–±–ª–æ–∂–∫–∞ (–ø–æ –∫–ª–∏–∫—É —Å–∫—Ä—ã–≤–∞–µ—Ç—Å—è, —Å—Ç–∞—Ä—Ç—É–µ–º –∫–≤–∏–∑) -->
      <button id="intro" class="intro" type="button" onclick="startQuiz()">
        <img src="intro.png" alt="–ù–∞–∂–º–∏—Ç–µ, —á—Ç–æ–±—ã –Ω–∞—á–∞—Ç—å">
      </button>

      <div id="stage"></div>
      <div class="nav" id="nav">
        <button id="prev" type="button">–ù–∞–∑–∞–¥</button>
        <div class="small" id="stepText"></div>
        <button id="next" type="button" disabled>–î–∞–ª–µ–µ</button>
      </div>
    </section>

    <section id="result" class="card result">
      <div id="badge" class="badge"></div>
      <h2 id="planName" class="plan-name"></h2>
      <p id="planDesc" class="plan-desc"></p>

      <ul class="perks">
        <li><b>–î–æ–º–∞—à–Ω–∏–µ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏</b> –±–µ–∑ —Å–ª–æ–∂–Ω–æ–≥–æ –∏–Ω–≤–µ–Ω—Ç–∞—Ä—è ‚Äî –≤ –≤–∞—à–µ–º —Ä–∏—Ç–º–µ</li>
        <li><b>–®–∞–≥–∞—Ç–µ–ª—å–Ω—ã–µ –∏ —Ç–∞–Ω—Ü–µ–≤–∞–ª—å–Ω—ã–µ</b> —Ñ–æ—Ä–º–∞—Ç—ã ‚Äî —Å–∂–∏–≥–∞–µ–º –∫–∞–ª–æ—Ä–∏–∏ ¬´–Ω–∞ —Ä–∞–¥–æ—Å—Ç—è—Ö¬ª</li>
        <li><b>–ü–æ–¥–¥–µ—Ä–∂–∫–∞</b> –∏ —á–∞—Ç—ã: –Ω–µ –±—Ä–æ—Å–∏—Ç–µ –Ω–∞ —Å–µ—Ä–µ–¥–∏–Ω–µ</li>
        <li><b>45+</b> ‚Äî –æ—Ç–¥–µ–ª—å–Ω—ã–µ —â–∞–¥—è—â–∏–µ –æ–ø—Ü–∏–∏ –±–µ–∑ –ø—Ä—ã–∂–∫–æ–≤</li>
      </ul>

      <p style="margin:10px 0 0"><b>–ü—Ä–∏—Å–æ–µ–¥–∏–Ω—è–π—Ç–µ—Å—å –∫ –∏–Ω—Ç–µ–Ω—Å–∏–≤—É ¬´–õ–µ—Ç–Ω–∏–π –ª–∞–≥–µ—Ä—å¬ª –æ—Ç –®–ê–ì–ê–ô –î–û–ú–ê‚ö°Ô∏è ‚Äî —á—Ç–æ–±—ã —Ö—É–¥–µ—Ç—å –ª–µ–≥–∫–æ –∏ —Å —É–¥–æ–≤–æ–ª—å—Å—Ç–≤–∏–µ–º!</b></p>
      <p><a id="buy" class="cta" href="#" target="_blank" rel="noopener">–ö—É–ø–∏—Ç—å –ø—Ä–æ–≥—Ä–∞–º–º—É</a></p>
      <a id="retry" class="alt" href="#">–ü—Ä–æ–π—Ç–∏ –µ—â—ë —Ä–∞–∑</a>
    </section>
  </div>

<script>
/* ---------------- CONFIG ---------------- */
const PLANS = {
  start45: {
    title: "–ö–æ–º—Ñ–æ—Ä—Ç–Ω—ã–π —Å—Ç–∞—Ä—Ç 45+",
    desc: "–©–∞–¥—è—â–∏–µ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏ –±–µ–∑ –ø—Ä—ã–∂–∫–æ–≤, –ø–æ–¥–¥–µ—Ä–∂–∫–∞ —Å—É—Å—Ç–∞–≤–æ–≤ –∏ –º—è–≥–∫–æ–µ –∂–∏—Ä–æ—Å–∂–∏–≥–∞–Ω–∏–µ. –ü–æ–¥–æ–π–¥—ë—Ç, –µ—Å–ª–∏ –¥–∞–≤–Ω–æ –Ω–µ –∑–∞–Ω–∏–º–∞–ª–∏—Å—å –∏–ª–∏ –µ—Å—Ç—å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –ø–æ –∫–æ–ª–µ–Ω—è–º/–¥–∞–≤–ª–µ–Ω–∏—é.",
    icon: "ü´∂",
    buy: "https://walk-walk.ru/checkout?plan=start45&src=quiz"
  },
  fatburnLight: {
    title: "–ñ–∏—Ä–æ—Å–∂–∏–≥–∞–Ω–∏–µ Light",
    desc: "–ë–æ–¥—Ä—ã–µ —à–∞–≥–∞—Ç–µ–ª—å–Ω—ã–µ –∏ —Ç–∞–Ω—Ü–µ–≤–∞–ª—å–Ω—ã–µ —Å–≤—è–∑–∫–∏, —É–º–µ—Ä–µ–Ω–Ω—ã–π –ø—É–ª—å—Å, –∑–∞–º–µ—Ç–Ω—ã–π —Ä–∞—Å—Ö–æ–¥ –∫–∞–ª–æ—Ä–∏–π ‚Äî –∏–¥–µ–∞–ª—å–Ω—ã–π –±–∞–ª–∞–Ω—Å –¥–ª—è —Å–Ω–∏–∂–µ–Ω–∏—è –≤–µ—Å–∞ –±–µ–∑ –∏–∑–º–∞—Ç—ã–≤–∞—é—â–∏—Ö –º–∞—Ä–∞—Ñ–æ–Ω–æ–≤.",
    icon: "üî•",
    buy: "https://walk-walk.ru/checkout?plan=fatburnLight&src=quiz"
  },
  tonePosture: {
    title: "–¢–æ–Ω—É—Å –∏ –æ—Å–∞–Ω–∫–∞",
    desc: "–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –∫–æ–º–ø–ª–µ–∫—Å—ã –¥–ª—è —Å–ø–∏–Ω—ã –∏ —Ü–µ–Ω—Ç—Ä–∞ —Ç–µ–ª–∞: —É–ø—Ä—É–≥–∞—è —Å–ø–∏–Ω–∞, –ª—É—á—à–∞—è –æ—Å–∞–Ω–∫–∞, –º–µ–Ω—å—à–µ –Ω–∞–ø—Ä—è–∂–µ–Ω–∏—è –≤ —à–µ–µ –∏ –ø–æ—è—Å–Ω–∏—Ü–µ.",
    icon: "üéØ",
    buy: "https://walk-walk.ru/checkout?plan=tonePosture&src=quiz"
  },
  stepParty: {
    title: "–®–∞–≥–∞—Ç–µ–ª—å–Ω—ã–µ –¥–∏—Å–∫–æ—Ç–µ–∫–∏",
    desc: "–õ—é–±–∏–º–∞—è –º—É–∑—ã–∫–∞, –ø—Ä–æ—Å—Ç—ã–µ —Ä–∏—Ç–º—ã, –º–Ω–æ–≥–æ —à–∞–≥–æ–≤ ‚Äî —Ö—É–¥–µ–µ–º ¬´–Ω–∞ —Ä–∞–¥–æ—Å—Ç—è—Ö¬ª. –ü–æ–¥—Ö–æ–¥–∏—Ç, –µ—Å–ª–∏ —Ö–æ—á–µ—Ç—Å—è –¥–≤–∏–∂–µ–Ω–∏—è –±–µ–∑ —Å–ª–æ–∂–Ω–æ–π —Ç–µ—Ö–Ω–∏–∫–∏.",
    icon: "üéµ",
    buy: "https://walk-walk.ru/checkout?plan=stepParty&src=quiz"
  },
  mobility: {
    title: "–†–∞—Å—Ç—è–∂–∫–∞ –∏ –ø–æ–¥–≤–∏–∂–Ω–æ—Å—Ç—å",
    desc: "–ú—è–≥–∫–∞—è –º–æ–±–∏–ª–∏–∑–∞—Ü–∏—è —Å—É—Å—Ç–∞–≤–æ–≤, –≥–∏–±–∫–æ—Å—Ç—å –∏ –ª—ë–≥–∫–æ—Å—Ç—å –≤ —Ç–µ–ª–µ. –û—Ç–ª–∏—á–Ω–æ –∫–æ–º–ø–æ–Ω—É–µ—Ç—Å—è —Å –ª—é–±—ã–º –¥—Ä—É–≥–∏–º –ø–ª–∞–Ω–æ–º.",
    icon: "üßò‚Äç‚ôÄÔ∏è",
    buy: "https://walk-walk.ru/checkout?plan=mobility&src=quiz"
  },
  fast20: {
    title: "–ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç: 20 –º–∏–Ω—É—Ç",
    desc: "–ö–æ—Ä–æ—Ç–∫–∏–µ, –Ω–æ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–µ 15‚Äì25-–º–∏–Ω—É—Ç–Ω—ã–µ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏. –î–ª—è –∑–∞–Ω—è—Ç—ã—Ö –∏ –Ω–æ–≤–∏—á–∫–æ–≤ ‚Äî –¥–∏—Å—Ü–∏–ø–ª–∏–Ω–∞ –±–µ–∑ –ø–µ—Ä–µ–≥—Ä—É–∑–∞.",
    icon: "‚è±Ô∏è",
    buy: "https://walk-walk.ru/checkout?plan=fast20&src=quiz"
  }
};

/* –í–æ–ø—Ä–æ—Å—ã.
   –£ –∫–∞–∂–¥–æ–≥–æ –æ—Ç–≤–µ—Ç–∞ –µ—Å—Ç—å –∫–ª—é—á plan ‚Äî –±–∞–ª–ª –ø–æ–π–¥—ë—Ç –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â—É—é –ø—Ä–æ–≥—Ä–∞–º–º—É */
const QUESTIONS = [
  { q: "–ö–∞–∫–∞—è –≥–ª–∞–≤–Ω–∞—è —Ü–µ–ª—å –Ω–∞ –±–ª–∏–∂–∞–π—à–∏–π –º–µ—Å—è—Ü?",
    a: [
      {t:"–ü–æ—Ö—É–¥–µ—Ç—å –∫–æ–º—Ñ–æ—Ä—Ç–Ω–æ", plan:"fatburnLight"},
      {t:"–ü—Ä–∏–π—Ç–∏ –≤ —Ç–æ–Ω—É—Å", plan:"tonePosture"},
      {t:"–ì–∏–±–∫–æ—Å—Ç—å –∏ –ª—ë–≥–∫–æ—Å—Ç—å", plan:"mobility"},
      {t:"–ù–∞—á–∞—Ç—å –º—è–≥–∫–æ –ø–æ—Å–ª–µ –ø–∞—É–∑—ã / 45+", plan:"start45"},
      {t:"–ì–ª–∞–≤–Ω–æ–µ ‚Äî –¥–≤–∏–≥–∞—Ç—å—Å—è —Å –º—É–∑—ã–∫–æ–π", plan:"stepParty"},
      {t:"–£–ª–æ–∂–∏—Ç—å—Å—è –≤ 20‚Äì25 –º–∏–Ω—É—Ç", plan:"fast20"}
    ]},
  { q: "–¢–µ–∫—É—â–∏–π —É—Ä–æ–≤–µ–Ω—å –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏?",
    a: [
      {t:"–ù–æ–≤–∏—á–æ–∫ / –¥–∞–≤–Ω–æ –Ω–µ –∑–∞–Ω–∏–º–∞–ª–∞—Å—å", plan:"start45"},
      {t:"–ù–∏–∑–∫–∏–π (–º–∞–ª–æ –¥–≤–∏–≥–∞—é—Å—å)", plan:"fast20"},
      {t:"–°—Ä–µ–¥–Ω–∏–π (–≥—É–ª—è—é/–∏–Ω–æ–≥–¥–∞ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏)", plan:"fatburnLight"},
      {t:"–•–æ—á—É –Ω–∞–≥—Ä—É–∑–∫—É –Ω–∞ –∫–æ—Ä–ø—É—Å/—Å–ø–∏–Ω—É", plan:"tonePosture"},
      {t:"–õ—é–±–ª—é —Ç–∞–Ω—Ü–µ–≤–∞–ª—å–Ω—ã–µ/—à–∞–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã", plan:"stepParty"},
      {t:"–•–æ—á—É –º—è–≥–∫–æ –±–µ–∑ –ø—Ä—ã–∂–∫–æ–≤", plan:"start45"}
    ]},
  { q: "–°–∫–æ–ª—å–∫–æ –≤—Ä–µ–º–µ–Ω–∏ –∫–æ–º—Ñ–æ—Ä—Ç–Ω–æ —É–¥–µ–ª—è—Ç—å –≤ –¥–µ–Ω—å?",
    a: [
      {t:"10‚Äì15 –º–∏–Ω—É—Ç", plan:"fast20"},
      {t:"20‚Äì25 –º–∏–Ω—É—Ç", plan:"fast20"},
      {t:"30‚Äì40 –º–∏–Ω—É—Ç", plan:"fatburnLight"},
      {t:"40+ –º–∏–Ω—É—Ç", plan:"tonePosture"},
      {t:"–ù–µ—Ä–µ–≥—É–ª—è—Ä–Ω–æ ‚Äî –Ω–æ –æ—Ö–æ—Ç–∞ –¥–≤–∏–≥–∞—Ç—å—Å—è –ø–æ–¥ –º—É–∑—ã–∫—É", plan:"stepParty"},
      {t:"–õ—É—á—à–µ –º—è–≥–∫–æ –∏ –±–µ–∑ —Å–ø–µ—à–∫–∏", plan:"start45"}
    ]},
  { q: "–ö–∞–∫–∏–µ –∑–æ–Ω—ã —Ö–æ—á–µ—Ç—Å—è –ø—Ä–æ–∫–∞—á–∞—Ç—å –≤ –ø–µ—Ä–≤—É—é –æ—á–µ—Ä–µ–¥—å?",
    a: [
      {t:"–ñ–∏–≤–æ—Ç/—Ç–∞–ª–∏—è", plan:"fatburnLight"},
      {t:"–°–ø–∏–Ω–∞/–æ—Å–∞–Ω–∫–∞", plan:"tonePosture"},
      {t:"–ë—ë–¥—Ä–∞/—è–≥–æ–¥–∏—Ü—ã", plan:"fatburnLight"},
      {t:"–û–±—â–∞—è –ø–æ–¥–≤–∏–∂–Ω–æ—Å—Ç—å", plan:"mobility"},
      {t:"–ö–∞—Ä–¥–∏–æ –±–µ–∑ —Å–ª–æ–∂–Ω–æ–π —Ç–µ—Ö–Ω–∏–∫–∏", plan:"stepParty"},
      {t:"–í—Å—ë –ø–æ —á—É—Ç—å-—á—É—Ç—å, –º—è–≥–∫–æ", plan:"start45"}
    ]},
  { q: "–ï—Å—Ç—å –ª–∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è?",
    a: [
      {t:"–ö–æ–ª–µ–Ω–∏/—Å—É—Å—Ç–∞–≤—ã ‚Äî –Ω—É–∂–Ω–∞ —â–∞–¥—è—â–∞—è –Ω–∞–≥—Ä—É–∑–∫–∞", plan:"start45"},
      {t:"–ß—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–∞—è —Å–ø–∏–Ω–∞/—à–µ—è", plan:"tonePosture"},
      {t:"–ù–µ—Ç —Å–µ—Ä—å—ë–∑–Ω—ã—Ö –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π", plan:"fatburnLight"},
      {t:"–ù—É–∂–Ω–∞ –Ω–∏–∑–∫–∞—è —É–¥–∞—Ä–Ω–∞—è –Ω–∞–≥—Ä—É–∑–∫–∞", plan:"mobility"},
      {t:"–ü—Ä–µ–¥–ø–æ—á–∏—Ç–∞—é –±–µ–∑ –ø—Ä—ã–∂–∫–æ–≤, –≤ —Ä–∏—Ç–º–µ", plan:"stepParty"},
      {t:"–ù–µ—Ö–≤–∞—Ç–∫–∞ –≤—Ä–µ–º–µ–Ω–∏ ‚Äî –≥–ª–∞–≤–Ω–æ–µ –∫–æ—Ä–æ—Ç–∫–æ", plan:"fast20"}
    ]},
  { q: "–ö–∞–∫–æ–π —Ñ–æ—Ä–º–∞—Ç –ø—Ä–∏—è—Ç–Ω–µ–µ?",
    a: [
      {t:"–®–∞–≥–∞—Ç–µ–ª—å–Ω—ã–µ/—Ç–∞–Ω—Ü–µ–≤–∞–ª—å–Ω—ã–µ —Å–≤—è–∑–∫–∏", plan:"stepParty"},
      {t:"–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –Ω–∞ –∫–æ—Ä–ø—É—Å", plan:"tonePosture"},
      {t:"–ö–∞—Ä–¥–∏–æ + –Ω–µ–º–Ω–æ–≥–æ —Å–∏–ª–æ–≤—ã—Ö", plan:"fatburnLight"},
      {t:"–†–∞—Å—Ç—è–∂–∫–∞ –∏ –¥—ã—Ö–∞–Ω–∏–µ", plan:"mobility"},
      {t:"–ú—è–≥–∫–æ 45+ –±–µ–∑ –ø—Ä—ã–∂–∫–æ–≤", plan:"start45"},
      {t:"–ö–æ—Ä–æ—Ç–∫–∏–µ —ç–∫—Å–ø—Ä–µ—Å—Å-–∑–∞–Ω—è—Ç–∏—è", plan:"fast20"}
    ]},
  { q: "–ò–Ω–≤–µ–Ω—Ç–∞—Ä—å?",
    a: [
      {t:"–ë–µ–∑ –∏–Ω–≤–µ–Ω—Ç–∞—Ä—è", plan:"stepParty"},
      {t:"–¢–æ–ª—å–∫–æ –∫–æ–≤—Ä–∏–∫", plan:"mobility"},
      {t:"–†–µ–∑–∏–Ω–∫–∏/–≥–∞–Ω—Ç–µ–ª–∏ light", plan:"fatburnLight"},
      {t:"–ú—è—á/—Ä–æ–ª–ª/–ª–µ–Ω—Ç–∞ –¥–ª—è –æ—Å–∞–Ω–∫–∏", plan:"tonePosture"},
      {t:"–ß—Ç–æ —É–≥–æ–¥–Ω–æ, –Ω–æ –º—è–≥–∫–æ", plan:"start45"},
      {t:"–ú–∏–Ω–∏–º—É–º, —á—Ç–æ–±—ã —É–ª–æ–∂–∏—Ç—å—Å—è –≤–æ –≤—Ä–µ–º—è", plan:"fast20"}
    ]},
  { q: "–ö–æ–≥–¥–∞ —É–¥–æ–±–Ω–µ–µ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∞—Ç—å—Å—è?",
    a: [
      {t:"–£—Ç—Ä–æ", plan:"fast20"},
      {t:"–î–µ–Ω—å", plan:"fatburnLight"},
      {t:"–í–µ—á–µ—Ä", plan:"tonePosture"},
      {t:"–í —Ä–∞–∑–Ω–æ–µ –≤—Ä–µ–º—è ‚Äî –∫–∞–∫ –ø–æ–π–¥—ë—Ç", plan:"stepParty"},
      {t:"–ö–æ–≥–¥–∞ –µ—Å—Ç—å —Å–∏–ª—ã ‚Äî –±–µ–∑ –Ω–∞–¥—Ä—ã–≤–∞", plan:"start45"},
      {t:"–ü–æ—Å–ª–µ —Ä–∞–∑–º–∏–Ω–∫–∏ ‚Äî —Ä–∞—Å—Ç—è–∂–∫–∞", plan:"mobility"}
    ]},
  { q: "–¢–µ–º–ø –∑–∞–Ω—è—Ç–∏–π?",
    a: [
      {t:"–°–ø–æ–∫–æ–π–Ω—ã–π", plan:"mobility"},
      {t:"–ú—è–≥–∫–∏–π, –±–µ–∑ –ø—Ä—ã–∂–∫–æ–≤", plan:"start45"},
      {t:"–°—Ä–µ–¥–Ω–∏–π, –∫–æ–º—Ñ–æ—Ä—Ç–Ω—ã–π", plan:"fatburnLight"},
      {t:"–≠–Ω–µ—Ä–≥–∏—á–Ω—ã–π, –Ω–æ –±–µ–∑ —Å–ª–æ–∂–Ω–æ—Å—Ç–∏", plan:"stepParty"},
      {t:"–° –∞–∫—Ü–µ–Ω—Ç–æ–º –Ω–∞ —Ç–µ—Ö–Ω–∏–∫—É", plan:"tonePosture"},
      {t:"–ö–æ—Ä–æ—Ç–∫–æ –∏ –ø–æ –¥–µ–ª—É", plan:"fast20"}
    ]},
  { q: "–ß—Ç–æ –≤–∞–∂–Ω–µ–µ –≤—Å–µ–≥–æ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –Ω–∞ –¥–∏—Å—Ç–∞–Ω—Ü–∏–∏?",
    a: [
      {t:"–†–µ–≥—É–ª—è—Ä–Ω–æ—Å—Ç—å –ø—Ä–∏ –¥–µ—Ñ–∏—Ü–∏—Ç–µ –≤—Ä–µ–º–µ–Ω–∏", plan:"fast20"},
      {t:"–ö–æ–º—Ñ–æ—Ä—Ç —Å—É—Å—Ç–∞–≤–æ–≤/–¥–∞–≤–ª–µ–Ω–∏—è", plan:"start45"},
      {t:"–í–µ—Å –∏ –æ–±—ä—ë–º—ã", plan:"fatburnLight"},
      {t:"–û—Å–∞–Ω–∫—É –∏ –∑–¥–æ—Ä–æ–≤—å–µ —Å–ø–∏–Ω—ã", plan:"tonePosture"},
      {t:"–†–∞–¥–æ—Å—Ç—å –∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ", plan:"stepParty"},
      {t:"–ü–æ–¥–≤–∏–∂–Ω–æ—Å—Ç—å –∏ –ª—ë–≥–∫–æ—Å—Ç—å", plan:"mobility"}
    ]}
];

/* -------------- –õ–û–ì–ò–ö–ê -------------- */
const dotsEl = document.getElementById('dots');
const stage = document.getElementById('stage');
const nextBtn = document.getElementById('next');
const prevBtn = document.getElementById('prev');
const stepText = document.getElementById('stepText');
const introBtn = document.getElementById('intro');

const resultCard = document.getElementById('result');
const quizCard   = document.getElementById('quiz');
const planNameEl = document.getElementById('planName');
const planDescEl = document.getElementById('planDesc');
const buyEl      = document.getElementById('buy');
const retryEl    = document.getElementById('retry');
const badgeEl    = document.getElementById('badge');

let i=0, pick=null, scores={}, started=false;

function buildDots(){
  dotsEl.innerHTML='';
  QUESTIONS.forEach((_q,idx)=>{
    const d=document.createElement('span');
    d.className='dot'+(idx<i?' on':'');
    dotsEl.appendChild(d);
  });
}
function updateDots(){ [...dotsEl.children].forEach((d,idx)=>d.classList.toggle('on', idx<i)); }

function render(){
  const q=QUESTIONS[i];
  const current = stage.querySelector('.slide.active');
  if(current){ current.classList.remove('active'); current.classList.add('out'); setTimeout(()=>current.remove(),300); }

  const el=document.createElement('div');
  el.className='slide';
  el.innerHTML = `
    <div class="q">${q.q}</div>
    <div class="answers"><div class="grid">
      ${q.a.map(a=>`<button class="answer" data-plan="${a.plan}">${a.t}</button>`).join('')}
    </div></div>
  `;
  stage.appendChild(el);
  requestAnimationFrame(()=>el.classList.add('active'));

  const grid=el.querySelector('.grid');
  pick=null; nextBtn.disabled=true;
  grid.addEventListener('click',(e)=>{
    const btn=e.target.closest('.answer'); if(!btn) return;
    grid.querySelectorAll('.answer').forEach(b=>b.classList.remove('sel'));
    btn.classList.add('sel'); pick=btn.dataset.plan; nextBtn.disabled=false;
    btn.scrollIntoView({block:'nearest',behavior:'smooth'});
  });

  stepText.textContent = `–®–∞–≥ ${i+1} –∏–∑ ${QUESTIONS.length}`;
  updateDots();
  prevBtn.disabled = (i===0);
}

function startQuiz(){
  if(started) return; started=true;
  if(introBtn){ introBtn.classList.add('hide'); setTimeout(()=>introBtn.remove(),250); }
  buildDots(); render();
}

nextBtn.addEventListener('click',()=>{
  if(!pick) return;
  scores[pick]=(scores[pick]||0)+1;
  i++;
  if(i<QUESTIONS.length){ render(); }
  else { showResult(); }
});
prevBtn.addEventListener('click',()=>{
  if(i===0) return;
  i--; render();
});
retryEl.addEventListener('click',(e)=>{e.preventDefault(); location.reload();});

function showResult(){
  quizCard.style.display='none';
  resultCard.style.display='block';
  // –≤—ã–±–∏—Ä–∞–µ–º –ø–æ–±–µ–¥–∏—Ç–µ–ª—è; –ø—Ä–∏ —Ä–∞–≤–µ–Ω—Å—Ç–≤–µ ‚Äî –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç –ø–æ –ø–æ—Ä—è–¥–∫—É PLANS
  const order = Object.keys(PLANS);
  let winner = order[0], best=-1;
  for(const k of order){ const v=scores[k]||0; if(v>best){best=v; winner=k;} }

  const plan = PLANS[winner];
  planNameEl.textContent = `–í—ã ‚Äî ${plan.title}`;
  planDescEl.textContent = plan.desc;
  buyEl.href = plan.buy;

  // –ë–µ–π–¥–∂
  badgeEl.innerHTML = `
<svg viewBox="0 0 220 220" width="100%" height="100%">
  <defs>
    <radialGradient id="g" cx="50%" cy="45%" r="70%">
      <stop offset="0%" stop-color="#ffe6ea"/><stop offset="60%" stop-color="#ff90a5"/><stop offset="100%" stop-color="#ff5a78"/>
    </radialGradient>
    <filter id="ds"><feDropShadow dx="0" dy="6" stdDeviation="6" flood-color="#000" flood-opacity=".22"/></filter>
  </defs>
  <circle cx="110" cy="110" r="86" fill="url(#g)" filter="url(#ds)" stroke="#fff" stroke-width="6"/>
  <text x="110" y="116" text-anchor="middle" dominant-baseline="middle" font-size="72" font-weight="700">${plan.icon||"‚≠ê"}</text>
</svg>`;
}

/* –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫, –µ—Å–ª–∏ –Ω–µ—Ç –∏–Ω—Ç—Ä–æ */
if(!introBtn){ startQuiz(); }
</script>
</body>
</html>
